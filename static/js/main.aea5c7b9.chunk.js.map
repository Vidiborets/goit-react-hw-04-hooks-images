{"version":3,"sources":["components/Modal/Modal.module.scss","components/ImageGalleryItem/ImageGalleryItem.module.scss","components/Button/Button.module.scss","components/Searchbar/Searchbar.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Loader/Loader.module.scss","components/Message/Message.module.scss","App.module.scss","components/SearchForm/SearchForm.module.scss","api/apiservice.js","components/SearchForm/SearchForm.jsx","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","components/Container/Container.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Message/Message.jsx","App.js","index.js"],"names":["module","exports","axios","defaults","baseURL","fetchImages","searchQuery","currentPage","a","get","data","SearchForm","onSearch","useState","query","setQuery","resetForm","className","s","onSubmit","e","preventDefault","trim","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","name","value","onChange","currentTarget","autoComplete","autoFocus","placeholder","SearchBar","Searchbar","modalRoot","document","querySelector","Modal","handleKeyDown","code","props","onClose","handleClickBack","target","window","addEventListener","this","removeEventListener","createPortal","Overlay","onClick","Modal__content","children","src","alt","Component","Container","container","defaultProps","protoTypes","PropTypes","node","ImageGalleryItem","image","ImageGalleryItemImage","webformatURL","tags","largeImageURL","ImageGallery","images","map","id","Button","ButtonPos","Fallback","Loader","color","height","width","timeout","Message","App","setImages","setCurrentPage","setSearchQuery","showModal","setShowModal","isLoading","setIsLoading","largeImage","setLargeImage","error","setError","useEffect","onSearchImage","hits","prev","prevPage","scrollOnLoad","console","log","scrollTo","top","documentElement","scrollHeight","behavior","needToShowLoadMore","length","message","fullImageUrl","prevModal","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.aea5c7b9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__21j6m\",\"Modal\":\"Modal_Modal__32mLz\",\"Modal__content\":\"Modal_Modal__content__1AuX7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3iRwM\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3dOln\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__3CMUD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ButtonPos\":\"Button_ButtonPos__tVTNi\",\"Button\":\"Button_Button__2BYYQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2Ep_q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2s6Dc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__3w7V8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Message\":\"Message_Message__2fF6f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__15LM-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"SearchForm_SearchForm__1feKi\",\"SearchFormButton\":\"SearchForm_SearchFormButton__3licz\",\"SearchFormButtonLabel\":\"SearchForm_SearchFormButtonLabel__28PMO\",\"SearchFormInput\":\"SearchForm_SearchFormInput__3EsiU\"};","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\nconst API_KEY = '23511418-9a5fcf3a7b36a31c6f256788e';\n\nconst fetchImages = async (searchQuery, currentPage) => {\n  const { data } = await axios.get(\n    `/?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n\n  return data;\n};\n\nexport default fetchImages;","import s from './SearchForm.module.scss'\nimport { useState } from 'react'\nimport PropTypes from 'prop-types';\n\nconst SearchForm = ({ onSearch }) => {\n    const [query, setQuery] = useState('')\n\n    const handleInput = (e) => {\n        const { value } = e.currentTarget\n\n        setQuery(value);\n    };\n    const handleSumbit = e => {\n        e.preventDefault();\n\n        if (!query.trim() ) {\n            return\n        }\n        \n        onSearch(query)\n\n        resetForm()\n    }\n    const resetForm = () => \n        setQuery('')\n    \n\n   return(\n            <>\n            <form className={s.SearchForm} onSubmit={handleSumbit}>\n                <button type=\"submit\" className={s.SearchFormButton}>\n                    <span className={s.SearchFormButtonLabel}>Search</span>\n                </button>\n                <input\n                    className={s.SearchFormInput}\n                    type=\"text\"\n                    name=\"query\"\n                    value={query}\n                    onChange={handleInput}\n                    autoComplete=\"off\"\n                    autoFocus\n                    placeholder=\"Search images and photos\"/>\n            </form>\n          </>      \n        )\n}\n\nSearchForm.propTypes = {\n    onSearch: PropTypes.func.isRequired\n}\n\nexport default SearchForm;","import SearchForm from '../SearchForm'\nimport s from './Searchbar.module.scss'\nimport PropTypes from 'prop-types';\n\nconst SearchBar = ({ onSearch }) => (\n    <header className={s.Searchbar}>\n        <SearchForm onSearch={onSearch} />\n    </header>\n);\n\nSearchBar.propTypes = {\n    onSearch: PropTypes.func.isRequired\n}\n\nexport default SearchBar\n\n\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from './Modal.module.scss'\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root')\n\nclass Modal extends Component{\n    componentDidMount() {\n        window.addEventListener('keydown', this.handleKeyDown)\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener('keydown',this.handleKeyDown)\n    }\n\n    handleKeyDown = (e) => {\n        if (e.code === 'Escape') {\n            this.props.onClose()\n        }\n    };\n    handleClickBack = e => {\n        if (e.currentTarget === e.target) {\n            this.props.onClose()\n        }\n    };\n\n    render() {\n        return createPortal(\n            <div className={s.Overlay} onClick={this.handleClickBack}>\n                <div className={s.Modal}>\n                    <div className={s.Modal__content}>{this.props.children}</div>\n                <img src=\"\" alt=\"\" />\n            </div>\n            </div>,\n            modalRoot\n        )\n    };\n};\n\nModal.propTypes = {\n    children: [],\n};\n\nModal.propTypes = {\n    children: PropTypes.node,\n    onClick: PropTypes.func\n}\n\nexport default Modal","import PropTypes from 'prop-types';\nimport s from './Container.module.scss';\n\nconst Container = ({ children }) => (\n  <div className={s.container}>{children}</div>\n);\n\nContainer.defaultProps = {\n  children: [],\n};\n\nContainer.protoTypes = {\n  children: PropTypes.node,\n};\n\nexport default Container;\n","import s from './ImageGalleryItem.module.scss'\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ image, onClick }) => {\n    \n    const fullImage = () => onClick(image.largeImageURL)\n    return (\n        <li className={s.ImageGalleryItem}>\n            <img className={s.ImageGalleryItemImage}\n                src={image.webformatURL}\n                alt={image.tags}\n                onClick={fullImage}\n            />\n        </li>\n    )\n};\n\nImageGalleryItem.defaultProps = {\n    tags: ''\n};\n\nImageGalleryItem.propTypes = {\n    image: PropTypes.shape({\n        webformatURL: PropTypes.string.isRequired,\n        tags: PropTypes.string.isRequired,\n        largeImageURL: PropTypes.string.isRequired\n    }),\n    onClick: PropTypes.func.isRequired\n};\n\nexport default ImageGalleryItem","import s from './ImageGallery.module.scss'\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport PropTypes from 'prop-types';\n\nconst ImageGallery = ({ images, onClick }) => (\n    <ul className={s.ImageGallery}>\n        {images.map(image => {\n            return (\n                <ImageGalleryItem\n                    key={image.id}\n                    image={image}\n                    onClick={onClick}\n                />\n            );\n        })}\n    </ul>\n);\n\nImageGallery.propTypes = {\n    images: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.number.isRequired\n        }),\n    ),\n    onClick: PropTypes.func.isRequired,\n}\n\nexport default ImageGallery","import s from './Button.module.scss'\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => (\n    <div className={s.ButtonPos}>\n        <button type='button' className={s.Button} onClick={onClick}>Load more</button>\n    </div>\n);\n\nButton.propTypes = {\n    onClick: PropTypes.func.isRequired\n}\n\n\n\nexport default Button","import s from './Loader.module.scss';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport { Component } from 'react';\n\nclass Fallback extends Component{\n    render() {\n        return (\n            <div className={s.Loader}>\n                <Loader\n                    type=\"Oval\"\n                    color=\"#00BFFF\"\n                    height={40}\n                    width={40}\n                    timeout={1500}\n                />\n            </div>\n        )\n    }\n}\n\nexport default Fallback","import s from './Message.module.scss'\nimport PropTypes from 'prop-types';\n\nconst Message = ({ children }) => (\n    <div className={s.Message}>\n        {children}\n    </div>\n);\n\nMessage.defaultProps = {\n    children: []\n};\n\nMessage.propTypes = {\n    children: PropTypes.node,\n};\n\n\nexport default Message","import {useEffect, useState } from 'react';\nimport fetchImages from './api/apiservice';\nimport Searchbar from './components/Searchbar';\nimport Modal from './components/Modal';\nimport Container from './components/Container';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Fallback from './components/Loader/Loader';\nimport Message from './components/Message';\n\nconst App = () => {\n    const [images, setImages] = useState([]);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [searchQuery, setSearchQuery] = useState('');\n    const [showModal, setShowModal] = useState(false);\n    const [isLoading, setIsLoading] = useState(false)\n    const [largeImage, setLargeImage] = useState('');\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        if (!searchQuery) return;\n        \n        onSearchImage()\n        //eslint-disable-next-line\n    }, [searchQuery]);\n\n    const onSearchImage = async() => {\n        setIsLoading(true);\n\n    try {\n      const { hits } = await fetchImages(searchQuery, currentPage);\n\n      setImages(prev => [...prev, ...hits]);\n\n      setCurrentPage(prevPage => prevPage + 1);\n\n      if (currentPage !== 1) {\n        scrollOnLoad();\n      }\n    } catch (error) {\n      console.log('Smth wrong with App fetch', error);\n      setError({ error });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n    const onLargeImage = (fullImageUrl) => {\n        setLargeImage(fullImageUrl);\n        setShowModal(true)\n    };\n\n    const toogleModal = () => {\n        setShowModal(prevModal => !prevModal);\n    };\n\n    const scrollOnLoad = () => {\n        window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n        });\n    };\n       const onShowImage = (query) => {\n        setSearchQuery(query)\n        setCurrentPage(1)\n        setImages([])\n    };\n\n    const needToShowLoadMore = images.length > 0 && images.length >= 12;\n\n    return (\n        <Container>\n            {error && <h1>{error.message}</h1>}\n            <Searchbar onSearch={onShowImage} />\n            {images.length < 1 &&\n                <Message>\n                    <h2>Please search your pictures</h2>\n                    <p>Search form is emply</p>\n                </Message>}\n            <ImageGallery images={images} onClick={onLargeImage} />\n            {showModal && (\n                <Modal onClose={toogleModal}>\n                    <img src={largeImage} alt='' />\n                </Modal>\n            )}\n            {needToShowLoadMore && <Button onClick={onSearchImage} />}\n            {isLoading && <Fallback />}\n        </Container>\n    );\n};\n\nexport default App;\n\n\n\n\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './App.module.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.querySelector('#root'),\n);\n\n"],"sourceRoot":""}